---

- name: Install python docker api
  package:
    name: python-docker-py
    state: present

- name: Create dir for squid cache and conigure SELinux
  file:
    path: /srv/docker/squid
    state: directory
    setype: svirt_sandbox_file_t
    recurse: true
    
- name: Start a squid container
  docker_container:
    name: squid
    image: sameersbn/squid:3.5.27
    state: started
    restart: yes
    ports:
      - "3128:3128"
    volumes:
      - "/srv/docker/squid/cache:/var/spool/squid"